<!DOCTYPE html>
<html lang="vi"><head><meta charset="UTF-8" /><title>B√°o c√°o l·ªõp {{ report.classroom_name }}</title><style>body{font-family:Arial,sans-serif;margin:24px;color:#1f2937}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}.logo{font-size:22px;font-weight:700;color:#2563eb}.sub{color:#6b7280}.summary-box{background:#eff6ff;border:1px solid #bfdbfe;border-radius:10px;padding:12px;margin-bottom:14px}table{border-collapse:collapse;width:100%;margin-top:12px;font-size:13px}th,td{border:1px solid #e5e7eb;padding:8px;vertical-align:top}th{background:#f8fafc}.chart{margin-top:14px}.bar-wrap{display:flex;gap:8px;align-items:flex-end;height:120px;border-bottom:1px solid #d1d5db;padding-bottom:4px}.bar{width:70px;text-align:center;font-size:12px;color:#1e3a8a}.bar>div{background:#60a5fa;border-radius:6px 6px 0 0}.cards{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:12px}.card{border:1px solid #e5e7eb;border-radius:10px;padding:10px;background:#fff}.class-ai{margin-top:14px;background:#fef3c7;border:1px solid #f59e0b;border-radius:10px;padding:12px}footer{margin-top:20px;color:#6b7280;font-size:12px;text-align:right}</style></head><body>
<div class="header"><div><div class="logo">üéì AI LMS</div><h1 style="margin:6px 0 4px;">B√°o c√°o gi√°o vi√™n - {{ report.classroom_name }}</h1><div class="sub">Classroom ID: {{ report.classroom_id }} ‚Ä¢ T·ªïng h·ªçc sinh: {{ report.total_students }}</div></div><div class="sub">Generated: {{ report.generated_at }}</div></div>
<div class="summary-box"><strong>ü§ñ AI nh·∫≠n x√©t l·ªõp h·ªçc:</strong><div style="margin-top:6px;">{{ report.class_summary.overall_assessment }}</div></div>
<table><thead><tr><th>T√™n h·ªçc sinh</th><th>ƒê·∫ßu v√†o</th><th>Cu·ªëi k·ª≥</th><th>+/-</th><th>Level</th><th>Homework</th><th>AI note</th></tr></thead><tbody>{% for s in report.students %}<tr><td>{{ s.name }}</td><td>{{ s.diagnostic_score if s.diagnostic_score is not none else 'N/A' }}%</td><td>{{ s.final_score if s.final_score is not none else 'N/A' }}%</td><td>{{ s.improvement if s.improvement is not none else 'N/A' }}</td><td>{{ s.level.label }}</td><td>{{ s.homework_completed }}</td><td>{{ s.ai_evaluation.summary }}</td></tr>{% endfor %}</tbody></table>
<div class="chart"><h3>Ph√¢n lo·∫°i h·ªçc sinh (bar chart)</h3>{% set ns = namespace(level_counts={}) %}{% for s in report.students %}{% set label = s.level.label %}{% set _ = ns.level_counts.update({label: ns.level_counts.get(label, 0) + 1}) %}{% endfor %}<div class="bar-wrap">{% for key, val in ns.level_counts.items() %}<div class="bar"><div style="height: {{ 20 + val * 20 }}px;"></div><div>{{ key }} ({{ val }})</div></div>{% endfor %}</div></div>
<div class="cards">{% for s in report.students %}<div class="card"><h4 style="margin:0 0 6px;">{{ s.name }}</h4><div><strong>T√≥m t·∫Øt:</strong> {{ s.ai_evaluation.summary }}</div><div><strong>ƒêi·ªÉm m·∫°nh:</strong> {{ (s.ai_evaluation.strengths or []) | join(', ') }}</div><div><strong>C·∫£i thi·ªán:</strong> {{ (s.ai_evaluation.improvements or []) | join(', ') }}</div><div><strong>Khuy·∫øn ngh·ªã:</strong> {{ s.ai_evaluation.recommendation }}</div></div>{% endfor %}</div>
<div class="class-ai"><div><strong>Nh·∫≠n x√©t t·ªïng l·ªõp:</strong> {{ report.class_summary.overall_assessment }}</div><div><strong>ƒêi·ªÉm m·∫°nh l·ªõp:</strong> {{ (report.class_summary.class_strengths or []) | join(', ') }}</div><div><strong>ƒêi·ªÉm c·∫ßn c·∫£i thi·ªán:</strong> {{ (report.class_summary.class_weaknesses or []) | join(', ') }}</div></div>
<footer>B√°o c√°o t·∫°o b·ªüi AI Learning Agent ng√†y {{ generated_date }}</footer>
</body></html>
